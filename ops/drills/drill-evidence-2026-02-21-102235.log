[2026-02-21 10:22:35] ================================================================
[2026-02-21 10:22:35] BACKUP/RESTORE DRILL — started at Sat 21 Feb 2026 10:22:35 GMT
[2026-02-21 10:22:35] Project: delta-student-486911-n5
[2026-02-21 10:22:35] Instance: pegasus-db-eu
[2026-02-21 10:22:35] Bucket: delta-student-486911-n5-pegasus-storage-eu
[2026-02-21 10:22:35] ================================================================
[2026-02-21 10:22:35] 
[2026-02-21 10:22:35] STEP 1: Creating on-demand Cloud SQL backup...
Backing up Cloud SQL instance...
.....done.
[https://sqladmin.googleapis.com/sql/v1beta4/projects/delta-student-486911-n5/instances/pegasus-db-eu] backed up.
[2026-02-21 10:23:09] STEP 1: PASS — Backup created successfully.
[2026-02-21 10:23:09] 
[2026-02-21 10:23:09] STEP 2: Listing Cloud SQL backups (most recent 5)...
ID: 1771669356798
WINDOW_START_TIME: 2026-02-21T10:22:36.798+00:00
ERROR: -
STATUS: SUCCESSFUL
INSTANCE: pegasus-db-eu

ID: 1771669222589
WINDOW_START_TIME: 2026-02-21T10:20:22.589+00:00
ERROR: -
STATUS: SUCCESSFUL
INSTANCE: pegasus-db-eu

ID: 1771669106393
WINDOW_START_TIME: 2026-02-21T10:18:26.393+00:00
ERROR: -
STATUS: SUCCESSFUL
INSTANCE: pegasus-db-eu

ID: 1771668935300
WINDOW_START_TIME: 2026-02-21T10:15:35.300+00:00
ERROR: -
STATUS: SUCCESSFUL
INSTANCE: pegasus-db-eu
[2026-02-21 10:23:10] STEP 2: PASS — Backup list retrieved.
[2026-02-21 10:23:10] 
[2026-02-21 10:23:10] STEP 3: Checking GCS object versioning on gs://delta-student-486911-n5-pegasus-storage-eu...
True
[2026-02-21 10:23:12] STEP 3: PASS — Object versioning is enabled.
[2026-02-21 10:23:12] 
[2026-02-21 10:23:12] STEP 4: GCS object lifecycle test (write → delete → restore from version)...
Copying file://- to gs://delta-student-486911-n5-pegasus-storage-eu/pegasus/drills/drill-test-2026-02-21-102235.txt
  

[2026-02-21 10:23:14]   4a: Test object uploaded to gs://delta-student-486911-n5-pegasus-storage-eu/pegasus/drills/drill-test-2026-02-21-102235.txt
[2026-02-21 10:23:14]   4b: Listing object versions...
        47  2026-02-21T10:23:13Z  gs://delta-student-486911-n5-pegasus-storage-eu/pegasus/drills/drill-test-2026-02-21-102235.txt#1771669393326520  metageneration=1
TOTAL: 1 objects, 47 bytes (47.00B)
Removing objects:
  
Removing gs://delta-student-486911-n5-pegasus-storage-eu/pegasus/drills/drill-test-2026-02-21-102235.txt...
.
[2026-02-21 10:23:18]   4c: Test object deleted.
[2026-02-21 10:23:18]   4d: Listing versions after delete (should show non-current version if versioning enabled)...
        47  2026-02-21T10:23:13Z  gs://delta-student-486911-n5-pegasus-storage-eu/pegasus/drills/drill-test-2026-02-21-102235.txt#1771669393326520  metageneration=1
TOTAL: 1 objects, 47 bytes (47.00B)
[2026-02-21 10:23:19]   4e: Restoring from generation 1771669393326520...
Copying gs://delta-student-486911-n5-pegasus-storage-eu/pegasus/drills/drill-test-2026-02-21-102235.txt#1771669393326520 to gs://delta-student-486911-n5-pegasus-storage-eu/pegasus/drills/drill-test-2026-02-21-102235.txt
  
.
[2026-02-21 10:23:22]   STEP 4: PASS — Object restored from version.
Removing objects:
  
Removing gs://delta-student-486911-n5-pegasus-storage-eu/pegasus/drills/drill-test-2026-02-21-102235.txt...
.
[2026-02-21 10:23:25]   Cleanup: Drill test object removed.
[2026-02-21 10:23:25] 
[2026-02-21 10:23:25] STEP 5: Hitting /health endpoint to confirm API is healthy...
HTTP status: 200
[2026-02-21 10:23:25] STEP 5: PASS — API returned HTTP 200.
[2026-02-21 10:23:25] ================================================================
[2026-02-21 10:23:25] DRILL COMPLETE — Sat 21 Feb 2026 10:23:25 GMT
[2026-02-21 10:23:25] Evidence log: ops/drills/drill-evidence-2026-02-21-102235.log
[2026-02-21 10:23:25] ================================================================
